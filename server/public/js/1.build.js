webpackJsonp([1],{39:function(t,e,a){a(53);var s=a(6)(a(43),a(49),"data-v-025c748a",null);t.exports=s.exports},43:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},i=a(0);e.default={data:function(){return{login:"",email:"",role:"user",active:1}},watch:{},computed:s({},(0,i.mapGetters)(["me","userlist"]),{title:function(){return"add"===this.$route.params.type?"新增使用者":"使用者資料"},subtitle:function(){return""}}),methods:s({},(0,i.mapMutations)(["setCoverloading"]),(0,i.mapActions)(["adduser","updateuser","logout"]),{onCancel:function(){this.$router.push("/users")},onSubmit:function(){var t=this,e={},a="updateuser";return"add"===this.$route.params.type?a="adduser":e.id=this.$route.params.type,e.login=this.login,e.email=this.email,e.role=this.role,e.active=this.active,swal({title:"",text:"送出中",type:"info",allowOutsideClick:!1,showConfirmButton:!1}),this[a](e).then(function(e){swal.close(),"OK"===e.status?t.$router.push("/users"):swal("Oops",e.err.message,"error")})}}),created:function(){var t=this;setTimeout(function(){if("add"!==t.$route.params.type){for(var e=t.$route.params.type,a=0;a<t.userlist.length;a++)t.userlist[a]._id===e&&(t.login=t.userlist[a].login,t.email=t.userlist[a].email,t.role=t.userlist[a].role,t.active=t.userlist[a].active);""===t.email&&(swal("Oops","沒有這筆資料喔","error"),t.$router.replace("/users"))}$(t.$el).find("input").eq(0).focus()},30)},beforeDestroy:function(){}}},45:function(t,e,a){e=t.exports=a(5)(),e.push([t.i,".form-group small[data-v-025c748a]{color:#9e9e9e}.x_title h3[data-v-025c748a]{margin:5px 0 6px;float:left;display:block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.input-group[data-v-025c748a],button[data-v-025c748a]{margin-bottom:0}.cppwd[data-v-025c748a]{cursor:pointer}",""])},49:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"x_panel"},[a("div",{staticClass:"x_title"},[a("h3",[t._v(t._s(t.title))]),a("div",{staticClass:"clearfix"})]),a("div",{staticClass:"x_content"},[a("form",{staticClass:"form-horizontal form-label-left"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-3 col-xs-12"},[t._v("Username")]),a("div",{staticClass:"col-sm-6 col-xs-12"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.login,expression:"login",modifiers:{trim:!0}}],staticClass:"form-control col-md-7 col-xs-12",attrs:{type:"text"},domProps:{value:t.login},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.onSubmit(e)},input:function(e){e.target.composing||(t.login=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("small",[t._v("使用者在GitHub上顯示的名稱(不確定可先不填)，因為加入協作者是以此為依據，若不確定請勿修改")])])]),a("div",{staticClass:"form-group"},[t._m(0),a("div",{staticClass:"col-sm-6 col-xs-12"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.email,expression:"email",modifiers:{trim:!0}}],staticClass:"form-control col-md-7 col-xs-12",attrs:{type:"text"},domProps:{value:t.email},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.onSubmit(e)},input:function(e){e.target.composing||(t.email=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("small",[t._v("使用者Email，需要是米蘭的Email")])])]),a("div",{staticClass:"form-group"},[t._m(1),a("div",{staticClass:"col-sm-6 col-xs-12"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.role,expression:"role",modifiers:{trim:!0}}],attrs:{type:"radio",value:"admin",name:"role",disabled:"admin"!==t.me.role},domProps:{checked:t._q(t.role,"admin")},on:{__c:function(e){t.role="admin"}}}),t._v("管理者")]),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.role,expression:"role",modifiers:{trim:!0}}],attrs:{type:"radio",value:"user",name:"role",checked:"checked",disabled:"admin"!==t.me.role},domProps:{checked:t._q(t.role,"user")},on:{__c:function(e){t.role="user"}}}),t._v("一般使用者")]),t._m(2)])]),a("div",{staticClass:"form-group"},[t._m(3),a("div",{staticClass:"col-sm-6 col-xs-12"},[a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.active,expression:"active",modifiers:{trim:!0}}],attrs:{type:"radio",value:"1",name:"act",checked:"checked",disabled:"admin"!==t.me.role},domProps:{checked:t._q(t.active,"1")},on:{__c:function(e){t.active="1"}}}),t._v("正常")]),a("label",{staticClass:"radio-inline"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.active,expression:"active",modifiers:{trim:!0}}],attrs:{type:"radio",value:"0",name:"act",disabled:"admin"!==t.me.role},domProps:{checked:t._q(t.active,"0")},on:{__c:function(e){t.active="0"}}}),t._v("停用")]),t._m(4)])]),a("div",{staticClass:"ln_solid"}),a("div",{staticClass:"col-xs-12 flex-cc"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.onCancel}},[t._v("取消")]),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.onSubmit}},[t._v("送出")])])])])])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"control-label col-sm-3 col-xs-12"},[t._v("Email"),a("span",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"control-label col-sm-3 col-xs-12"},[t._v("權限"),a("span",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("small",[t._v("【管理者】擁有最高權限，【一般使用者】只能增加Repository與設定協作者")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"control-label col-sm-3 col-xs-12"},[t._v("帳號狀態"),a("span",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("small",[t._v("如果有帳號使用者暫時不會使用時，可以選擇停用")])])}]}},53:function(t,e,a){var s=a(45);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(7)("6bdf319c",s,!0)}});